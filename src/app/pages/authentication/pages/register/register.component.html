<section>


  <div class="header-img">
    <h3>Eri task</h3>
    <img src="https://rodaticars.com/images/listings/2023-12/45013286-1702036310-514.jpg" alt="Logo">
  </div>

  <h2>Registrarse</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <ion-input label="Correo" formControlName="email" label-placement="floating" fill="outline"
      placeholder="example@example.com"></ion-input>
    <div *ngIf="form.get('email')!.invalid && form.get('email')!.touched">
      <ion-text color="danger" padding-left>
        <p *ngIf="form.get('email')!.hasError('required')">El correo es requerido.</p>
        <p *ngIf="form.get('email')!.hasError('email')">Correo invalido.</p>
      </ion-text>
    </div>
    <ion-input label="Nombre" formControlName="name" label-placement="floating" fill="outline"
      placeholder="Erick"></ion-input>
    <div *ngIf="form.get('name')!.invalid && form.get('name')!.touched">
      <ion-text color="danger" padding-left>
        <p *ngIf="form.get('name')!.hasError('required')">El nombre es requerido.</p>
        <p *ngIf="form.get('name')!.hasError('pattern')">El nombre solo lleva letras.</p>
      </ion-text>
    </div>
    <ion-input [type]="isObscure ? 'password' : 'text'" label="Contraseña" formControlName="password"
      label-placement="floating" fill="outline">
      <ion-icon (click)="changeObscureText()" slot="end" [name]="isObscure ? 'eye-outline': 'eye-off-outline' ">
      </ion-icon>
    </ion-input>
    <div *ngIf="form.get('password')!.invalid && form.get('password')!.touched">
      <ion-text color="danger" padding-left>
        <p *ngIf="form.get('password')!.hasError('required')">La contraseña es requerida.</p>
      </ion-text>
    </div>

    <ion-input [type]="isObscure ? 'password' : 'text'" label="Contraseña" formControlName="confirmPassword"
      label-placement="floating" fill="outline">
      <ion-icon (click)="changeObscureText()" slot="end" [name]="isObscure ? 'eye-outline': 'eye-off-outline' ">
      </ion-icon>
    </ion-input>

    <div *ngIf="form.get('confirmPassword')!.invalid && form.get('confirmPassword')!.touched">
      <ion-text color="danger" padding-left>
        <p *ngIf="form.get('confirmPassword')!.hasError('required')">La contraseña es requerida.</p>
        <p *ngIf="form.get('confirmPassword')!.hasError('passwordsNotMatch')">Las contraseñas no coinciden.</p>
      </ion-text>
    </div>
    <ion-button class="submit" type="submit" [disabled]="!form.valid">Crear cuenta</ion-button>
    <ion-button routerLink="/authentication/login" class="forgot-password" fill="clear">Iniciar sesión</ion-button>
  </form>

</section>